<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Training Center - Templates</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        body { 
            font-family: 'Sarabun', sans-serif; 
            background-color: #020617; 
            color: #e2e8f0;
        }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 10px 30px -10px rgba(14, 165, 233, 0.3); }
        .gradient-text { background: linear-gradient(to right, #60a5fa, #34d399); -webkit-background-clip: text; color: transparent; }
        
        /* Modal Animation */
        .modal { transition: opacity 0.25s ease; }
        body.modal-active { overflow-x: hidden; overflow-y: hidden !important; }

        /* Processing Animation */
        @keyframes scan {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }
        .scan-line {
            animation: scan 2s linear infinite;
        }
    </style>
</head>
<body class="p-4 md:p-8 min-h-screen">

    <!-- Header -->
    <div class="max-w-6xl mx-auto mb-10 flex flex-col md:flex-row justify-between items-center border-b border-white/10 pb-6 gap-4">
        <div>
            <h1 class="text-3xl font-bold gradient-text mb-2">üéì AI Knowledge Training Center</h1>
            <p class="text-slate-400 text-sm">‡∏Ñ‡∏•‡∏±‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏≠‡∏ô AI ‡πÇ‡∏î‡∏¢‡∏à‡∏£‡∏±‡∏ç‡∏ç‡∏π ‡∏ó‡∏≠‡∏á‡πÄ‡∏≠‡∏ô‡∏Å</p>
        </div>
        <div class="flex items-center gap-4">
            <!-- Link back to ai_training.html -->
            <a href="ai_training.html" class="px-6 py-2 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl transition-all flex items-center gap-2 text-sm font-bold">
                <i data-lucide="arrow-left"></i> Back to Main App
            </a>
        </div>
    </div>

    <!-- Main Content -->
    <div class="max-w-6xl mx-auto space-y-12">
        
        <!-- SECTION 1: WEB & SEARCH IMPORT -->
        <div class="bg-slate-900/50 border border-blue-500/30 p-6 md:p-8 rounded-2xl relative overflow-hidden">
            <div class="absolute top-0 right-0 p-4 opacity-10"><i data-lucide="globe" class="w-32 h-32 text-blue-500"></i></div>
            
            <h2 class="text-xl font-bold text-blue-400 flex items-center gap-2 mb-6 relative z-10">
                <i data-lucide="search"></i> Web Knowledge Import
            </h2>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 relative z-10">
                <!-- URL Import -->
                <div class="bg-black/20 p-4 rounded-xl border border-white/5 flex flex-col justify-between">
                    <div>
                        <label class="block text-xs font-bold text-slate-400 mb-2">Import from URL (Summarize Content)</label>
                        <div class="flex gap-2">
                            <input type="text" id="web-url" placeholder="https://example.com/research-topic" class="flex-1 bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm outline-none focus:border-blue-500">
                            <button onclick="simulateWebFetch()" id="btn-fetch" class="bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-all">
                                <i data-lucide="download-cloud"></i> Fetch
                            </button>
                        </div>
                        <p class="text-[10px] text-slate-500 mt-2" id="fetch-hint">*AI ‡∏à‡∏∞‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏£‡∏∏‡∏õ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏à‡∏≤‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÉ‡∏´‡πâ (Using Search Grounding)</p>
                    </div>

                    <!-- PROCESSING VISUAL (Hidden by default) -->
                    <div id="fetch-processing" class="hidden mt-4 p-4 bg-black/40 rounded-xl border border-blue-500/30 relative overflow-hidden">
                        <div class="flex items-center gap-4 relative z-10">
                            <div class="relative w-12 h-12 flex-shrink-0 bg-blue-900/20 rounded-full flex items-center justify-center border border-blue-500/20">
                                <i data-lucide="globe" class="w-6 h-6 text-blue-400"></i>
                                <div class="absolute inset-0 border-2 border-blue-500/50 rounded-full border-t-transparent animate-spin"></div>
                            </div>
                            <div class="flex-1 min-w-0">
                                <div class="text-xs font-bold text-blue-300 mb-1 flex justify-between">
                                    <span>AI Agent Processing...</span>
                                    <span class="animate-pulse">Analyzing</span>
                                </div>
                                <div class="h-1.5 w-full bg-slate-700 rounded-full overflow-hidden">
                                    <div class="h-full bg-blue-500 rounded-full animate-[width_1.5s_ease-in-out_infinite]" style="width: 30%"></div>
                                </div>
                                <p class="text-[10px] text-slate-400 mt-1 truncate">Reading source data & summarizing...</p>
                            </div>
                        </div>
                        <!-- Background Scan Effect -->
                        <div class="absolute inset-0 bg-gradient-to-b from-transparent via-blue-500/5 to-transparent h-[50%] scan-line pointer-events-none"></div>
                    </div>
                </div>

                <!-- Topic Search -->
                <div class="bg-black/20 p-4 rounded-xl border border-white/5 flex flex-col justify-between">
                    <div>
                        <label class="block text-xs font-bold text-slate-400 mb-2">Search & Generate Knowledge</label>
                        <div class="flex gap-2">
                            <input type="text" id="search-topic" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå..." class="flex-1 bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm outline-none focus:border-purple-500">
                            <button onclick="generateContent()" id="btn-generate" class="bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-all">
                                <i data-lucide="sparkles"></i> Generate
                            </button>
                        </div>
                        <p class="text-[10px] text-slate-500 mt-2" id="gen-hint">*‡πÉ‡∏ä‡πâ AI ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ä‡∏∏‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏ï‡∏≤‡∏°‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</p>
                    </div>

                    <!-- GENERATING VISUAL (Hidden by default) -->
                    <div id="gen-processing" class="hidden mt-4 p-4 bg-black/40 rounded-xl border border-purple-500/30 relative overflow-hidden">
                        <div class="flex items-center gap-4 relative z-10">
                            <div class="relative w-12 h-12 flex-shrink-0 bg-purple-900/20 rounded-full flex items-center justify-center border border-purple-500/20">
                                <i data-lucide="brain-circuit" class="w-6 h-6 text-purple-400 animate-pulse"></i>
                            </div>
                            <div class="flex-1 min-w-0">
                                <div class="text-xs font-bold text-purple-300 mb-1">Generating Knowledge Base...</div>
                                <div class="flex gap-1">
                                    <div class="w-1 h-3 bg-purple-500 rounded animate-[pulse_0.6s_ease-in-out_infinite]"></div>
                                    <div class="w-1 h-3 bg-purple-500 rounded animate-[pulse_0.6s_ease-in-out_0.2s_infinite]"></div>
                                    <div class="w-1 h-3 bg-purple-500 rounded animate-[pulse_0.6s_ease-in-out_0.4s_infinite]"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SECTION 2: TEMPLATES -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            
            <!-- Column 1: Research -->
            <div class="space-y-6">
                <h2 class="text-xl font-bold text-blue-400 flex items-center gap-2"><i data-lucide="file-text"></i> ‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢ (Research)</h2>
                
                <div class="bg-slate-800/50 p-6 rounded-xl border border-white/5 card-hover transition-all group">
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="font-bold text-lg">1. ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢ 5 ‡∏ö‡∏ó</h3>
                        <button onclick="previewTemplate('research_structure')" class="opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-white/10 rounded text-xs text-blue-400" title="Preview Content"><i data-lucide="eye" class="w-4 h-4"></i></button>
                    </div>
                    <p class="text-xs text-slate-400 mb-4 line-clamp-2">
                        ‡∏ö‡∏ó‡∏ô‡∏≥, ‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏ß‡∏£‡∏£‡∏ì‡∏Å‡∏£‡∏£‡∏°, ‡∏ß‡∏¥‡∏ò‡∏µ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£, ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢, ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•
                    </p>
                    <button onclick="previewTemplate('research_structure')" class="w-full py-2 bg-blue-600/20 hover:bg-blue-600 text-blue-400 hover:text-white border border-blue-600/50 rounded-lg text-sm font-bold transition-all flex items-center justify-center gap-2">
                        <i data-lucide="upload-cloud"></i> Teach AI
                    </button>
                </div>

                <div class="bg-slate-800/50 p-6 rounded-xl border border-white/5 card-hover transition-all group">
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="font-bold text-lg">2. ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢ (Methodology)</h3>
                        <button onclick="previewTemplate('research_methodology')" class="opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-white/10 rounded text-xs text-blue-400" title="Preview Content"><i data-lucide="eye" class="w-4 h-4"></i></button>
                    </div>
                    <p class="text-xs text-slate-400 mb-4 line-clamp-2">
                        ‡πÄ‡∏ä‡∏¥‡∏á‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì (Quantitative), ‡πÄ‡∏ä‡∏¥‡∏á‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û (Qualitative), ‡πÅ‡∏ö‡∏ö‡∏ú‡∏™‡∏° (Mixed Method)
                    </p>
                    <button onclick="previewTemplate('research_methodology')" class="w-full py-2 bg-blue-600/20 hover:bg-blue-600 text-blue-400 hover:text-white border border-blue-600/50 rounded-lg text-sm font-bold transition-all flex items-center justify-center gap-2">
                        <i data-lucide="upload-cloud"></i> Teach AI
                    </button>
                </div>
            </div>

            <!-- Column 2: Statistics -->
            <div class="space-y-6">
                <h2 class="text-xl font-bold text-emerald-400 flex items-center gap-2"><i data-lucide="bar-chart-2"></i> ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ (Statistics)</h2>
                
                <div class="bg-slate-800/50 p-6 rounded-xl border border-white/5 card-hover transition-all group">
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="font-bold text-lg">1. ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏û‡∏£‡∏£‡∏ì‡∏ô‡∏≤ (Descriptive)</h3>
                        <button onclick="previewTemplate('stat_desc')" class="opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-white/10 rounded text-xs text-emerald-400" title="Preview Content"><i data-lucide="eye" class="w-4 h-4"></i></button>
                    </div>
                    <p class="text-xs text-slate-400 mb-4 line-clamp-2">
                        Mean, Median, Mode, SD, Percentage
                    </p>
                    <button onclick="previewTemplate('stat_desc')" class="w-full py-2 bg-emerald-600/20 hover:bg-emerald-600 text-emerald-400 hover:text-white border border-emerald-600/50 rounded-lg text-sm font-bold transition-all flex items-center justify-center gap-2">
                        <i data-lucide="upload-cloud"></i> Teach AI
                    </button>
                </div>

                <div class="bg-slate-800/50 p-6 rounded-xl border border-white/5 card-hover transition-all group">
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="font-bold text-lg">2. ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏≠‡∏ô‡∏∏‡∏°‡∏≤‡∏ô (Inferential)</h3>
                        <button onclick="previewTemplate('stat_infer')" class="opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-white/10 rounded text-xs text-emerald-400" title="Preview Content"><i data-lucide="eye" class="w-4 h-4"></i></button>
                    </div>
                    <p class="text-xs text-slate-400 mb-4 line-clamp-2">
                        T-test, ANOVA, Chi-Square, Correlation
                    </p>
                    <button onclick="previewTemplate('stat_infer')" class="w-full py-2 bg-emerald-600/20 hover:bg-emerald-600 text-emerald-400 hover:text-white border border-emerald-600/50 rounded-lg text-sm font-bold transition-all flex items-center justify-center gap-2">
                        <i data-lucide="upload-cloud"></i> Teach AI
                    </button>
                </div>
            </div>

            <!-- Column 3: Health -->
            <div class="space-y-6">
                <h2 class="text-xl font-bold text-pink-400 flex items-center gap-2"><i data-lucide="heart-pulse"></i> ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û (Health)</h2>
                
                <div class="bg-slate-800/50 p-6 rounded-xl border border-white/5 card-hover transition-all group">
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="font-bold text-lg">1. ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡πá‡∏Å‡∏õ‡∏ê‡∏°‡∏ß‡∏±‡∏¢</h3>
                        <button onclick="previewTemplate('health_kids')" class="opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-white/10 rounded text-xs text-pink-400" title="Preview Content"><i data-lucide="eye" class="w-4 h-4"></i></button>
                    </div>
                    <p class="text-xs text-slate-400 mb-4 line-clamp-2">
                        ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Å‡∏≤‡∏£ 4 ‡∏î‡πâ‡∏≤‡∏ô ‡πÅ‡∏•‡∏∞‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏¢‡πÄ‡∏î‡πá‡∏Å
                    </p>
                    <button onclick="previewTemplate('health_kids')" class="w-full py-2 bg-pink-600/20 hover:bg-pink-600 text-pink-400 hover:text-white border border-pink-600/50 rounded-lg text-sm font-bold transition-all flex items-center justify-center gap-2">
                        <i data-lucide="upload-cloud"></i> Teach AI
                    </button>
                </div>

                <div class="bg-slate-800/50 p-6 rounded-xl border border-white/5 card-hover transition-all group">
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="font-bold text-lg">2. ‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏ú‡∏π‡πâ‡∏™‡∏π‡∏á‡∏≠‡∏≤‡∏¢‡∏∏</h3>
                        <button onclick="previewTemplate('health_elderly')" class="opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-white/10 rounded text-xs text-pink-400" title="Preview Content"><i data-lucide="eye" class="w-4 h-4"></i></button>
                    </div>
                    <p class="text-xs text-slate-400 mb-4 line-clamp-2">
                        ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏´‡∏Å‡∏•‡πâ‡∏°, ‡∏™‡∏°‡∏≠‡∏á‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏°, ‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£
                    </p>
                    <button onclick="previewTemplate('health_elderly')" class="w-full py-2 bg-pink-600/20 hover:bg-pink-600 text-pink-400 hover:text-white border border-pink-600/50 rounded-lg text-sm font-bold transition-all flex items-center justify-center gap-2">
                        <i data-lucide="upload-cloud"></i> Teach AI
                    </button>
                </div>
            </div>

        </div>
    </div>

    <!-- PREVIEW / EDIT MODAL -->
    <div id="preview-modal" class="fixed inset-0 z-50 hidden opacity-0 pointer-events-none modal flex items-center justify-center bg-black/80 backdrop-blur-sm p-4">
        <div class="bg-[#0f172a] w-full max-w-3xl rounded-2xl border border-white/10 shadow-2xl flex flex-col h-[85vh]">
            <div class="p-6 border-b border-white/10 flex justify-between items-center bg-slate-900/50 rounded-t-2xl">
                <div>
                    <h3 class="text-xl font-bold flex items-center gap-2"><i data-lucide="edit-3" class="w-5 h-5 text-blue-400"></i> Review & Edit Content</h3>
                    <p class="text-xs text-slate-400 mt-1">Review the content below. You can edit it before teaching the AI.</p>
                </div>
                <button onclick="closeModal()" class="text-slate-400 hover:text-white p-2 hover:bg-white/10 rounded-lg transition-colors"><i data-lucide="x" class="w-5 h-5"></i></button>
            </div>
            <div class="p-0 flex-1 overflow-hidden flex flex-col bg-black/20">
                <textarea id="modal-content" class="w-full h-full bg-transparent p-6 font-mono text-sm leading-relaxed focus:outline-none resize-none text-slate-300 selection:bg-blue-500/30"></textarea>
            </div>
            <div class="p-6 border-t border-white/10 flex justify-end gap-3 bg-slate-900/50 rounded-b-2xl">
                <button onclick="closeModal()" class="px-5 py-2.5 rounded-xl text-sm hover:bg-white/5 transition-colors text-slate-300">Cancel</button>
                <button onclick="confirmTrainFromModal()" class="px-6 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white rounded-xl text-sm font-bold shadow-lg shadow-blue-500/20 flex items-center gap-2 transition-all transform hover:scale-105">
                    <i data-lucide="check-circle" class="w-4 h-4"></i> Confirm & Train AI
                </button>
            </div>
        </div>
    </div>

    <!-- Status Toast -->
    <div id="toast" class="fixed bottom-10 right-10 bg-green-600 text-white px-6 py-3 rounded-xl shadow-2xl transform translate-y-32 transition-all duration-300 flex items-center gap-3 z-50">
        <div class="bg-white/20 p-1 rounded-full"><i data-lucide="check" class="w-4 h-4"></i></div>
        <div>
            <h4 class="font-bold text-sm">Success!</h4>
            <p class="text-xs opacity-90" id="toast-msg">Data sent to Main AI Memory.</p>
        </div>
    </div>

    <script>
        lucide.createIcons();
        const GEMINI_API_KEY = ""; // Key injected by environment

        // --- DATA CONTENT ---
        const templates = {
            research_structure: `[Topic: Research Structure 5 Chapters]
‡∏ö‡∏ó‡∏ó‡∏µ‡πà 1 ‡∏ö‡∏ó‡∏ô‡∏≥ (Introduction):
- ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≤‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏ó‡∏≥‡πÑ‡∏°‡∏ñ‡∏∂‡∏á‡∏ó‡∏≥‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£
- ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢: ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏≠‡∏∞‡πÑ‡∏£
- ‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ê‡∏≤‡∏ô (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ): ‡∏Ñ‡∏≤‡∏î‡πÄ‡∏î‡∏≤‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£
- ‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢: ‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£ ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤
- ‡∏ô‡∏¥‡∏¢‡∏≤‡∏°‡∏®‡∏±‡∏û‡∏ó‡πå‡πÄ‡∏â‡∏û‡∏≤‡∏∞: ‡∏Ñ‡∏≥‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢

‡∏ö‡∏ó‡∏ó‡∏µ‡πà 2 ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á (Literature Review):
- ‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á
- ‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï (‡∏ó‡∏±‡πâ‡∏á‡πÑ‡∏ó‡∏¢‡πÅ‡∏•‡∏∞‡∏ï‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®)
- ‡∏Å‡∏£‡∏≠‡∏ö‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢

‡∏ö‡∏ó‡∏ó‡∏µ‡πà 3 ‡∏ß‡∏¥‡∏ò‡∏µ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢ (Methodology):
- ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢
- ‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á
- ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û
- ‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ

‡∏ö‡∏ó‡∏ó‡∏µ‡πà 4 ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (Results):
- ‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏≤‡∏£‡∏≤‡∏á ‡∏Å‡∏£‡∏≤‡∏ü ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏¢
- ‡πÅ‡∏õ‡∏•‡∏ú‡∏•‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡πÄ‡∏ó‡πá‡∏à‡∏à‡∏£‡∏¥‡∏á

‡∏ö‡∏ó‡∏ó‡∏µ‡πà 5 ‡∏™‡∏£‡∏∏‡∏õ ‡∏≠‡∏†‡∏¥‡∏õ‡∏£‡∏≤‡∏¢‡∏ú‡∏• ‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞ (Conclusion & Discussion):
- ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå
- ‡∏≠‡∏†‡∏¥‡∏õ‡∏£‡∏≤‡∏¢‡∏ú‡∏•: ‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á‡∏Å‡∏±‡∏ö‡∏ó‡∏§‡∏©‡∏é‡∏µ/‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡πÄ‡∏Å‡πà‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£

`,

            research_methodology: `[Topic: Research Methodology]
‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢ (Research Methodology):
1. ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡πÄ‡∏ä‡∏¥‡∏á‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì (Quantitative Research):
   - ‡πÄ‡∏ô‡πâ‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ ‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
   - ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠: ‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏° (Questionnaire), ‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö
   - ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå: ‡πÉ‡∏ä‡πâ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ (SPSS, R) ‡∏´‡∏≤‡∏Ñ‡πà‡∏≤ Mean, SD, t-test
   - ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö: ‡∏Å‡∏≤‡∏£‡∏´‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå, ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ú‡∏•, ‡∏™‡∏≥‡∏£‡∏ß‡∏à‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à‡πÉ‡∏ô‡∏ß‡∏á‡∏Å‡∏ß‡πâ‡∏≤‡∏á

2. ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡πÄ‡∏ä‡∏¥‡∏á‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û (Qualitative Research):
   - ‡πÄ‡∏ô‡πâ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∂‡∏Å‡∏ã‡∏∂‡πâ‡∏á ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢ ‡∏ö‡∏£‡∏¥‡∏ö‡∏ó ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå
   - ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠: ‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏©‡∏ì‡πå‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å (In-depth Interview), ‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏° (Focus Group), ‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï
   - ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå: ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ (Content Analysis), ‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°
   - ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö: ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°, ‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°, ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å

3. ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡πÅ‡∏ö‡∏ö‡∏ú‡∏™‡∏°‡∏ú‡∏™‡∏≤‡∏ô (Mixed Methods):
   - ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏ä‡∏¥‡∏á‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•`,

            stat_desc: `[Topic: Descriptive Statistics]
‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏û‡∏£‡∏£‡∏ì‡∏ô‡∏≤ (Descriptive Statistics):
1. ‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á:
   - Mean (‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢): ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏Å‡∏ï‡∏¥ (Normal Distribution)
   - Median (‡∏°‡∏±‡∏ò‡∏¢‡∏ê‡∏≤‡∏ô): ‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ö‡πâ ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÇ‡∏ï‡πà‡∏á (Outlier)
   - Mode (‡∏ê‡∏≤‡∏ô‡∏ô‡∏¥‡∏¢‡∏°): ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏•‡∏∏‡πà‡∏°/‡∏ô‡∏≤‡∏°‡∏ö‡∏±‡∏ç‡∏ç‡∏±‡∏ï‡∏¥

2. ‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢:
   - SD (Standard Deviation): ‡∏Ñ‡πà‡∏≤‡∏¢‡∏¥‡πà‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡∏¢‡∏¥‡πà‡∏á‡∏î‡∏µ (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡∏≤‡∏∞‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Å‡∏±‡∏ô)
   - Range (‡∏û‡∏¥‡∏™‡∏±‡∏¢): ‡∏Ñ‡πà‡∏≤‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î - ‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î`,

            stat_infer: `[Topic: Inferential Statistics]
‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á (Inferential Statistics):
1. Parametric Statistics (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏õ‡∏Å‡∏ï‡∏¥):
   - T-test: ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ 2 ‡∏Å‡∏•‡∏∏‡πà‡∏°
   - ANOVA: ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ > 2 ‡∏Å‡∏•‡∏∏‡πà‡∏°
   - Pearson Correlation: ‡∏´‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£

2. Non-parametric Statistics (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏õ‡∏Å‡∏ï‡∏¥):
   - Chi-Square: ‡∏´‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏•‡∏∏‡πà‡∏°
   - Mann-Whitney U test: ‡πÉ‡∏ä‡πâ‡πÅ‡∏ó‡∏ô t-test
   - Kruskal-Wallis: ‡πÉ‡∏ä‡πâ‡πÅ‡∏ó‡∏ô ANOVA`,

            health_kids: `[Topic: Early Childhood Development]
‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡πá‡∏Å‡∏õ‡∏ê‡∏°‡∏ß‡∏±‡∏¢ (0-5 ‡∏õ‡∏µ):
1. ‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢: ‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏°‡∏±‡∏î‡πÉ‡∏´‡∏ç‡πà (‡∏ß‡∏¥‡πà‡∏á, ‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î) ‡∏°‡∏±‡∏î‡πÄ‡∏•‡πá‡∏Å (‡∏£‡πâ‡∏≠‡∏¢‡∏•‡∏π‡∏Å‡∏õ‡∏±‡∏î, ‡∏ß‡∏≤‡∏î‡∏£‡∏π‡∏õ)
2. ‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå: ‡∏ö‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ ‡∏£‡πà‡∏≤‡πÄ‡∏£‡∏¥‡∏á
3. ‡∏™‡∏±‡∏á‡∏Ñ‡∏°: ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô ‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡πà‡∏á‡∏õ‡∏±‡∏ô
4. ‡∏™‡∏ï‡∏¥‡∏õ‡∏±‡∏ç‡∏ç‡∏≤: ‡∏†‡∏≤‡∏©‡∏≤ ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô

*Red Flags: ‡πÑ‡∏°‡πà‡∏™‡∏ö‡∏ï‡∏≤, ‡πÑ‡∏°‡πà‡∏û‡∏π‡∏î‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏ï‡∏≠‡∏ô 18 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô, ‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏≠‡∏ô 18 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡∏Ñ‡∏ß‡∏£‡∏û‡∏ö‡πÅ‡∏û‡∏ó‡∏¢‡πå`,

            health_elderly: `[Topic: Elderly Care Guidelines]
‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏ú‡∏π‡πâ‡∏™‡∏π‡∏á‡∏≠‡∏≤‡∏¢‡∏∏ (Elderly Care):
1. Fall Prevention (‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏°):
   - ‡∏û‡∏∑‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö ‡πÑ‡∏°‡πà‡∏•‡∏∑‡πà‡∏ô ‡πÅ‡∏™‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠
   - ‡∏£‡∏≤‡∏ß‡∏à‡∏±‡∏ö‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥
   - ‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤‡∏´‡∏∏‡πâ‡∏°‡∏™‡πâ‡∏ô‡∏Å‡∏±‡∏ô‡∏•‡∏∑‡πà‡∏ô

2. Nutrition (‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£):
   - ‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏î‡∏µ (‡∏õ‡∏•‡∏≤, ‡πÑ‡∏Ç‡πà‡∏Ç‡∏≤‡∏ß, ‡πÄ‡∏ï‡πâ‡∏≤‡∏´‡∏π‡πâ) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏°‡∏ß‡∏•‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠
   - ‡∏•‡∏î Sodium (<2,000 mg/day) ‡∏•‡∏î‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•
   - ‡πÅ‡∏Ñ‡∏•‡πÄ‡∏ã‡∏µ‡∏¢‡∏°‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏ï‡∏≤‡∏°‡∏¥‡∏ô D (‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å‡∏û‡∏£‡∏∏‡∏ô)

3. Mental Health:
   - ‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏ã‡∏∂‡∏°‡πÄ‡∏®‡∏£‡πâ‡∏≤ (‡πÄ‡∏ö‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£, ‡∏ô‡∏≠‡∏ô‡πÑ‡∏°‡πà‡∏´‡∏•‡∏±‡∏ö, ‡πÅ‡∏¢‡∏Å‡∏ï‡∏±‡∏ß)
   - ‡∏†‡∏≤‡∏ß‡∏∞‡∏™‡∏°‡∏≠‡∏á‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏° (Dementia) ‡∏à‡∏≥‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ`
        };

        // --- FETCH / GENERATE CONTENT LOGIC ---
        
        async function simulateWebFetch() {
            const url = document.getElementById('web-url').value;
            if(!url) return alert("Please enter a URL first.");
            
            // Toggle UI
            const btn = document.getElementById('btn-fetch');
            const processing = document.getElementById('fetch-processing');
            const hint = document.getElementById('fetch-hint');
            
            btn.disabled = true;
            btn.innerHTML = `<i data-lucide="loader-2" class="animate-spin"></i> Fetching...`;
            processing.classList.remove('hidden');
            hint.classList.add('hidden');
            lucide.createIcons();

            // Prompt asking for search/summary
            const prompt = `User provided URL: "${url}". 
            Please search for information related to this URL or topic and summarize the key educational/research/health content found.
            Format as a structured note in Thai.`;

            try {
                const key = GEMINI_API_KEY || ""; 
                const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${key}`, {
                    method: 'POST', 
                    headers: {'Content-Type':'application/json'},
                    body: JSON.stringify({ 
                        contents: [{ parts: [{ text: prompt }] }],
                        tools: [{ google_search: {} }] // Add Google Search Grounding
                    })
                });

                if (!res.ok) {
                    const errData = await res.json().catch(() => ({}));
                    throw new Error(errData.error?.message || `HTTP Error ${res.status}`);
                }

                const data = await res.json();
                
                if (data.candidates && data.candidates[0].content) {
                    const content = data.candidates[0].content.parts[0].text;
                    openModalWithContent(content);
                } else if (data.promptFeedback) {
                     throw new Error(`Safety Block: ${data.promptFeedback.blockReason}`);
                } else {
                     throw new Error("No content generated.");
                }

            } catch(e) {
                console.error(e);
                let msg = e.message;
                if(msg.includes("400")) msg += " (Check API Key or Request format)";
                alert(`Error fetching content: ${msg}`);
            }
            
            // Restore UI
            btn.innerHTML = `<i data-lucide="download-cloud"></i> Fetch`;
            btn.disabled = false;
            processing.classList.add('hidden');
            hint.classList.remove('hidden');
            lucide.createIcons();
        }

        async function generateContent() {
            const topic = document.getElementById('search-topic').value;
            if(!topic) return alert("Please enter a topic.");

            // Toggle UI
            const btn = document.getElementById('btn-generate');
            const processing = document.getElementById('gen-processing');
            const hint = document.getElementById('gen-hint');

            btn.disabled = true;
            btn.innerHTML = `<i data-lucide="loader-2" class="animate-spin"></i> Generating...`;
            processing.classList.remove('hidden');
            hint.classList.add('hidden');
            lucide.createIcons();

            const prompt = `Role: Research Assistant.
            Task: Generate a comprehensive, structured knowledge base about: "${topic}" in Thai.
            Focus on facts, definitions, key points, and statistics if applicable.
            Keep it concise but informative for training an AI.`;

            try {
                const key = GEMINI_API_KEY || "";
                const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${key}`, {
                    method: 'POST', 
                    headers: {'Content-Type':'application/json'},
                    body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
                });

                if (!res.ok) {
                    const errData = await res.json().catch(() => ({}));
                    throw new Error(errData.error?.message || `HTTP Error ${res.status}`);
                }

                const data = await res.json();
                
                if (data.candidates && data.candidates[0].content) {
                    const content = data.candidates[0].content.parts[0].text;
                    openModalWithContent(content);
                } else {
                    throw new Error("No content generated.");
                }
            } catch(e) {
                console.error(e);
                alert(`Error generating content: ${e.message}`);
            }

            // Restore UI
            btn.innerHTML = `<i data-lucide="sparkles"></i> Generate`;
            btn.disabled = false;
            processing.classList.add('hidden');
            hint.classList.remove('hidden');
            lucide.createIcons();
        }

        // --- MODAL LOGIC ---
        function openModalWithContent(content) {
            document.getElementById('modal-content').value = content;
            const modal = document.getElementById('preview-modal');
            modal.classList.remove('hidden', 'pointer-events-none', 'opacity-0');
            document.body.classList.add('modal-active');
        }

        function previewTemplate(key) {
            if(templates[key]) {
                openModalWithContent(templates[key]);
            }
        }

        function closeModal() {
            const modal = document.getElementById('preview-modal');
            modal.classList.add('opacity-0', 'pointer-events-none');
            setTimeout(() => {
                modal.classList.add('hidden');
                document.body.classList.remove('modal-active');
            }, 300);
        }

        function confirmTrainFromModal() {
            const content = document.getElementById('modal-content').value;
            if(content.trim()) {
                saveToStorage(content);
                closeModal();
            }
        }

        // --- CORE TRAIN LOGIC (Internal) ---
        function saveToStorage(content) {
            // 1. Get existing memory
            let currentMemory = [];
            const saved = localStorage.getItem('ai_memory');
            if(saved) {
                try { currentMemory = JSON.parse(saved); } catch(e){}
            }

            // 2. Add new (Duplicate check)
            if(!currentMemory.includes(content)) {
                currentMemory.push(content);
                localStorage.setItem('ai_memory', JSON.stringify(currentMemory));
                showToast("Data sent to Main AI Memory.");
            } else {
                showToast("This content is already in memory!");
            }
        }

        function showToast(msg) {
            const toast = document.getElementById('toast');
            if(msg) document.getElementById('toast-msg').innerText = msg;
            toast.classList.remove('translate-y-32');
            setTimeout(() => {
                toast.classList.add('translate-y-32');
            }, 3000);
        }
    </script>
</body>
</html>